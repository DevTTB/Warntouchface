(this["webpackJsonptest-react"]=this["webpackJsonptest-react"]||[]).push([[0],{262:function(e,n,t){},264:function(e,n,t){},269:function(e,n){},270:function(e,n){},278:function(e,n){},281:function(e,n){},282:function(e,n){},283:function(e,n,t){"use strict";t.r(n);var r=t(72),c=t(77),a=t.n(c),o=t(234),u=t.n(o),s=(t(262),t(4)),i=t.n(s),f=t(11),l=t(6),d=(t(264),t(232),t(254)),b=t(255),p=t(256),v=t(192),h=t.p+"static/media/hey_sondn.8c2f8e9b.mp3",j=new p.Howl({src:[h]}),g="touched";var m=function(){var e=Object(c.useState)(!1),n=Object(l.a)(e,2),t=n[0],a=n[1],o=Object(c.useRef)(),u=Object(c.useRef)(!0),s=Object(c.useRef)(),p=Object(c.useRef)(),h=function(){var e=Object(f.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("init..."),e.next=3,m();case 3:return console.log("set up camera success"),s.current=b.a(),e.next=7,d.a();case 7:p.current=e.sent,console.log("set up done"),console.log("khong cham tay len mat va bam Train 1");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){return new Promise((function(e,n){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozgetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({video:!0},(function(n){o.current.srcObject=n,o.current.addEventListener("loadeddata",e)}),(function(e){return n(e)})):n()}))},O=function(){var e=Object(f.a)(i.a.mark((function e(n){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[".concat(n,"] Dang train cho may mat cua ban... ")),t=0;case 2:if(!(t<50)){e.next=9;break}return console.log("progress ".concat(parseInt((t+1)/50*100),"% ")),e.next=6,x(n);case 6:t++,e.next=2;break;case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(e){return new Promise(function(){var n=Object(f.a)(i.a.mark((function n(t){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=p.current.infer(o.current,!0),s.current.addExample(r,e),n.next=4,k(100);case 4:t();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},w=function(){var e=Object(f.a)(i.a.mark((function e(){var n,t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.current.infer(o.current,!0),e.next=3,s.current.predictClass(n);case 3:return(t=e.sent).label===g&&t.confidences[t.label]>.8?(console.log("Touched"),u.current&&(u.current=!1,j.play()),Object(v.b)("Bo tay ra",{body:"Ban vua cham tay vao mat!!!"}),a(!0),Object(v.a)({cooldown:3e3})):(console.log("No Touch"),a(!1)),e.next=7,k(200);case 7:w();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(n){return setTimeout(n,e)}))};return Object(c.useEffect)((function(){return h(),j.on("end",(function(){u.current=!0})),function(){}}),[]),Object(r.jsxs)("div",{className:"main ".concat(t?"touched":""),children:[Object(r.jsx)("h1",{children:"HELLO"}),Object(r.jsx)("video",{ref:o,className:"video",autoPlay:!0}),Object(r.jsxs)("div",{className:"control",children:[Object(r.jsx)("button",{className:"btn",onClick:function(){return O("not_touch")},children:"Train 1"}),Object(r.jsx)("button",{className:"btn",onClick:function(){return O(g)},children:"Train 2"}),Object(r.jsx)("button",{className:"btn",onClick:function(){return w()},children:"Run"})]})]})},O=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,284)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),r(e),c(e),a(e),o(e)}))};u.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(m,{})}),document.getElementById("root")),O()}},[[283,1,2]]]);
//# sourceMappingURL=main.7af6da66.chunk.js.map